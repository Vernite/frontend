import{Emitter}from"../../../base/common/event.js";import*as platform from"../../registry/common/platform.js";export const Extensions={JSONContribution:"base.contributions.json"};function normalizeId(id){return id.length>0&&"#"===id.charAt(id.length-1)?id.substring(0,id.length-1):id}class JSONContributionRegistry{constructor(){this._onDidChangeSchema=new Emitter,this.schemasById={}}registerSchema(uri,unresolvedSchemaContent){this.schemasById[normalizeId(uri)]=unresolvedSchemaContent,this._onDidChangeSchema.fire(uri)}notifySchemaChanged(uri){this._onDidChangeSchema.fire(uri)}}const jsonContributionRegistry=new JSONContributionRegistry;platform.Registry.add(Extensions.JSONContribution,jsonContributionRegistry);