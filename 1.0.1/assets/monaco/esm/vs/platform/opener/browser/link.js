var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};import{$,append,EventHelper}from"../../../base/browser/dom.js";import{DomEmitter}from"../../../base/browser/event.js";import{StandardKeyboardEvent}from"../../../base/browser/keyboardEvent.js";import{EventType as TouchEventType,Gesture}from"../../../base/browser/touch.js";import{Event}from"../../../base/common/event.js";import{Disposable}from"../../../base/common/lifecycle.js";import{IOpenerService}from"../common/opener.js";import{textLinkActiveForeground,textLinkForeground}from"../../theme/common/colorRegistry.js";import{registerThemingParticipant}from"../../theme/common/themeService.js";let Link=class Link extends Disposable{constructor(container,_link,options={},openerService){var _a;super(),this._link=_link,this._enabled=!0,this.el=append(container,$("a.monaco-link",{tabIndex:null!==(_a=_link.tabIndex)&&void 0!==_a?_a:0,href:_link.href,title:_link.title},_link.label)),this.el.setAttribute("role","button");const onClickEmitter=this._register(new DomEmitter(this.el,"click")),onKeyPress=this._register(new DomEmitter(this.el,"keypress")),onEnterPress=Event.chain(onKeyPress.event).map((e=>new StandardKeyboardEvent(e))).filter((e=>3===e.keyCode)).event,onTap=this._register(new DomEmitter(this.el,TouchEventType.Tap)).event;this._register(Gesture.addTarget(this.el));const onOpen=Event.any(onClickEmitter.event,onEnterPress,onTap);this._register(onOpen((e=>{this.enabled&&(EventHelper.stop(e,!0),(null==options?void 0:options.opener)?options.opener(this._link.href):openerService.open(this._link.href,{allowCommands:!0}))}))),this.enabled=!0}get enabled(){return this._enabled}set enabled(enabled){enabled?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=enabled}};Link=__decorate([__param(3,IOpenerService)],Link);export{Link};registerThemingParticipant(((theme,collector)=>{const textLinkForegroundColor=theme.getColor(textLinkForeground);textLinkForegroundColor&&collector.addRule(`.monaco-link { color: ${textLinkForegroundColor}; }`);const textLinkActiveForegroundColor=theme.getColor(textLinkActiveForeground);textLinkActiveForegroundColor&&collector.addRule(`.monaco-link:hover { color: ${textLinkActiveForegroundColor}; }`)}));