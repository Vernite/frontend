import{SimpleWorkerServer}from"../base/common/worker/simpleWorker.js";import{EditorSimpleWorker}from"./common/services/editorSimpleWorker.js";let initialized=!1;export function initialize(foreignModule){if(initialized)return;initialized=!0;const simpleWorker=new SimpleWorkerServer((msg=>{self.postMessage(msg)}),(host=>new EditorSimpleWorker(host,foreignModule)));self.onmessage=e=>{simpleWorker.onmessage(e.data)}}self.onmessage=e=>{initialized||initialize(null)};